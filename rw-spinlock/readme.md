# Read-write spinlock

В этой задаче вам предстоит реализовать spinlock, который поддерживает конкурентные чтения. При этом блокировка на запись должна работать как и с обычным spinlock, т.е. должно быть эксклюзивное владение.

Интерфейс приведен в файле `rw_spinlock.h`.

Идея алгоритма:

1. Создается атомарная переменная.
2. Внутри атомарной переменной первый младший бит выделяется для флага записи.
3. Остальные биты, начиная со второго, - это счетчик читателей.
4. Для `LockRead` должен соблюдаться инвариант: младший бит не должен быть равен 1.
5. Для `LockWrite` должен соблюдаться инвариант: младший бит не должен быть равен 1 + счетчик читателей должен быть равен 0.

### Ограничения
* Мьютексы и sleep из стандартной библиотеки запрещены в этой задаче. Это проверяется автоматически.
* Ограничения на бенчмарки:
    * Reads:1 - 0.1 c
    * Reads:2 - 0.4 c
    * Reads:4 - 0.4 c
    * Reads:8 - 0.4 c
    * Writes:1 - 0.1 c
    * Writes:2 - 0.4 c
    * Writes:4 - 0.4 c
    * Writes:8 - 0.4 c
    * ReadsWrites:1 - 0.25 c
    * ReadsWrites:2 - 0.25 c
    * ReadsWrites:4 - 0.25 c
